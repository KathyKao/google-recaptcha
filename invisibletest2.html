<html>

<head>
    <script>
        var onloadCallback = function () {
            console.log("onloadCallback start")
            grecaptcha.render('recaptcha', {
                'sitekey': '6LcLQXMUAAAAAKWY_sTVrWLl4cbjAFfxbUFNabjR',
                'theme': 'light',  // optional   
                'callback': 'onSubmit',  // optional  
                'expired-callback': 'recaptchaExpiredCallback',
                'error-callback': 'recaptchaErrorCallback',
                'hl': 'en',
                'size': 'invisible'
            });
            console.log("onloadCallback end")
        };

        function onSubmit(token) {
            alert('Response: ' + token);
        }

        function recaptchaExpiredCallback() {
            alert('recaptchaExpiredCallback....');
        }

        function recaptchaErrorCallback() {
            alert('recaptchaErrorCallback....');
        }

        function validate(event) {
            grecaptcha.reset();
            event.preventDefault();
            grecaptcha.execute();
        }

        function onload() {
            var element = document.getElementById('submit');
            element.onclick = validate;
        }
    </script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
</head>

<body>
    <form>
        <div id='recaptcha' class="g-recaptcha"></div>
        <button id='submit'>submit</button>
    </form>
    <script>onload();</script>
</body>

</html>